<Window
    x:Class="Foundation.Views.MainWindowForm"
    x:Name="ThisWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" 
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"

    xmlns:controls="clr-namespace:Foundation.Views"
    
    mc:Ignorable="d"
    Title="{Binding FormTitle}" Height="500" Width="1500"
    WindowState="Normal"
    WindowStartupLocation="CenterScreen"
    WindowStyle="None"
    >

    <Window.Resources>
    </Window.Resources>

    <Window.InputBindings>
        <!-- Example of Keyboard shortcuts -->
        <KeyBinding Command="{Binding OpenErrorDialogCommand}" Gesture="Ctrl+E" />
        <KeyBinding Command="{Binding OpenTestFormCommand}" Gesture="Ctrl+T" />
        <KeyBinding Command="{Binding ReShowLastExceptionErrorDialogCommand}" Gesture="Ctrl+R" />
        <KeyBinding Command="{Binding ExitApplicationCommand}" Gesture="Alt+F4" />
    </Window.InputBindings>

    <DockPanel>
        <DockPanel
            x:Name="TitleBar"
            DockPanel.Dock="Top"
            Background="BurlyWood"
            LastChildFill="True"
            MouseDown="TitleBar_MouseDown"
        >
            <Button
                x:Name="CloseButton"
                DockPanel.Dock="Right"
                Background="Transparent"
                BorderBrush="{x:Null}"
                Click="CloseButton_Click"
                Content="{StaticResource WindowCloseIcon}"
            />
            <Button
                x:Name="MaxButton"
                DockPanel.Dock="Right"
                Background="Transparent"
                BorderBrush="{x:Null}"
                Click="MaximizeButton_Click"
                Content="{StaticResource WindowMaximiseIcon}"
            />
            <Button
                DockPanel.Dock="Right"
                Background="Transparent"
                BorderBrush="{x:Null}"
                Click="MinimizeButton_Click"
                Content="{StaticResource WindowMinimiseIcon}"
            />

            <StackPanel
                Name="TitleBarStackPanel"
                Orientation="Horizontal"
                >
                <StackPanel.ToolTip>
                    <ToolTip>
                        <controls:UserDetailsPopupControl DataContext="{Binding UserDetailsPopupControlViewModel}" />
                    </ToolTip>
                </StackPanel.ToolTip>

                <controls:BreadCrumbControl Margin="0, 0, -10, 0" Text1="{Binding ApplicationName}" BackColour="DarkGreen"/>
                <controls:BreadCrumbControl Margin="-3, 0, -10, 0" Text1="{Binding Version}" BackColour="LightGreen" />
                <controls:BreadCrumbControl Margin="-3, 0, -10, 0" Text1="{Binding LoggedOnUserDisplayName}" BackColour="LightBlue" />
            </StackPanel>

            <Label
                HorizontalContentAlignment="Center"
                VerticalContentAlignment="Center"
                Content="{Binding FormTitle}"
            />
        </DockPanel>
        <DockPanel LastChildFill="True">
            <Menu DockPanel.Dock="Top">
                <Menu.ItemsPanel>
                    <ItemsPanelTemplate>
                        <DockPanel HorizontalAlignment="Stretch" />
                    </ItemsPanelTemplate>
                </Menu.ItemsPanel>
                <!-- File Menu -->
                <MenuItem Header="_File">
                    <Separator />
                    <MenuItem Header="E_xit" Command="{Binding ExitApplicationCommand}" CommandParameter="{Binding ElementName=ThisWindow}" InputGestureText="Alt+F4" />
                </MenuItem>
                <MenuItem Header="_Edit">
                    <!--Command="" CommandParameter=""-->
                    <MenuItem Header="Cu_t" InputGestureText="Ctrl+X" />
                    <MenuItem Header="_Copy" InputGestureText="Ctrl+C" />
                    <MenuItem Header="_Paste" InputGestureText="Ctrl+V" />
                    <Separator />
                </MenuItem>
                <MenuItem Header="_Tools">
                    <MenuItem Header="Re-show last exception dialog..." Command="{Binding ReShowLastExceptionErrorDialogCommand}" InputGestureText="Ctrl+R" />
                    <MenuItem Header="Test Form..." Command="{Binding OpenTestFormCommand}" InputGestureText="Ctrl+T" />
                    <MenuItem Header="New notification message" Command="{Binding OpenNewNotificationCommand}" />
                    <MenuItem Header="Re-show last notification message" Command="{Binding OpenLastNotificationCommand}" />
                    <MenuItem Header="Error Dialog..." Command="{Binding OpenErrorDialogCommand}" InputGestureText="Ctrl+E" />
                </MenuItem>
                <MenuItem Header="_Window">

                </MenuItem>
                <MenuItem Header="_Help" HorizontalAlignment="Right">
                    <MenuItem Header="_View Help" InputGestureText="Ctrl+F1" />
                    <Separator />
                    <MenuItem Header="_About..." Command="{Binding ShowAboutDialogCommand}" />
                </MenuItem>
            </Menu>
            <StatusBar DockPanel.Dock="Bottom">
                <StatusBar.ItemsPanel>
                    <ItemsPanelTemplate>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>
                        </Grid>
                    </ItemsPanelTemplate>
                </StatusBar.ItemsPanel>
                <StatusBarItem>
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="(Information Label)" />
                        <TextBlock Text=" " />
                        <controls:ProgressBarControl Value="90" Tag="Task Progress" />
                    </StackPanel>
                </StatusBarItem>
                <Separator Grid.Column="1" />
                <StatusBarItem Grid.Column="2" HorizontalAlignment="Right">
                    <TextBlock Text="{Binding LoggedOnUsername}">
                        <TextBlock.InputBindings>
                            <MouseBinding Command="{Binding LoggedOnUserClickCommand}" MouseAction="LeftClick" />
                        </TextBlock.InputBindings></TextBlock>
                </StatusBarItem>
                <Separator Grid.Column="3" />
                <StatusBarItem Grid.Column="4" HorizontalAlignment="Right">
                    <TextBlock Text="{Binding UserRole}" />
                </StatusBarItem>
                <Separator Grid.Column="5" />
                <StatusBarItem Grid.Column="6" HorizontalAlignment="Right">
                    <TextBlock Text="{Binding Database}" />
                </StatusBarItem>
                <Separator Grid.Column="7" HorizontalAlignment="Right" />
                <StatusBarItem Grid.Column="8" HorizontalAlignment="Right">
                    <TextBlock Text="{Binding Environment}" />
                </StatusBarItem>
            </StatusBar>

            <DockPanel LastChildFill="True">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="190" />
                        <ColumnDefinition />
                    </Grid.ColumnDefinitions>
                    <DockPanel Grid.Column="0" LastChildFill="True">
                        <ComboBox
                            DockPanel.Dock="Top"
                            ItemsSource="{Binding ApplicationDefinitions}"
                            DisplayMemberPath="Caption" SelectedValuePath="Name"
                            SelectedItem="{Binding SelectedApplicationDefinition}"
                            />
                        <controls:TreeViewControl
                            Margin="0,0,6,0"
                            BorderThickness="0"
                            SelectedItem_="{Binding SelectedItem, Mode=TwoWay}"
                            ItemsSource="{Binding TreeViewItems}"
                            LeftClickCommand="{Binding TreeViewSelectionLeftClickCommand}"
                        >
                            <!---->
                        </controls:TreeViewControl>
                    </DockPanel>

                    <GridSplitter Grid.Column="1" Background="Blue" Width="5" ShowsPreview="True"
                              HorizontalAlignment="Right" VerticalAlignment="Stretch" />
                    <DockPanel Grid.Column="1" LastChildFill="True">
                        <!--<ToolBar ToolBarTray.IsLocked="True" DockPanel.Dock="Top">
                            <Button Content="Save" Command="{Binding SaveCommand}" />
                            <Button Content="Save All" Command="{Binding OpenErrorDialogCommand}" />
                        </ToolBar>-->
                        <TabControl ItemsSource="{Binding TabItems}" />
                    </DockPanel>
                </Grid>
            </DockPanel>
        </DockPanel>
    </DockPanel>
</Window>
<!--

    
    
    
    <Window x:Class="TestCustomTab.Window1" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" Title="Window1" Height="300" Width="300">
    <Window.Resources>
        <SolidColorBrush x:Key="RedBrush" Color="Red"/>

        <SolidColorBrush x:Key="SolidBorderBrush" Color="#888" />

        <SolidColorBrush x:Key="GreenBrush" Color="Green" />

        <SolidColorBrush x:Key="DisabledBackgroundBrush" Color="#EEE" />

        <SolidColorBrush x:Key="DisabledBorderBrush" Color="#AAA" />

        <SolidColorBrush x:Key="DisabledForegroundBrush" Color="#888" />

        <Style TargetType="{x:Type TabItem}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type TabItem}">
                        <Grid>
                            <Border 
                                Name="Border"
                                Margin="0,0,-4,0" 
                                Background="{DynamicResource RedBrush}"
                                BorderBrush="{DynamicResource  SolidBorderBrush}" 
                                BorderThickness="1,1,1,1" 
                                CornerRadius="2,12,0,0" >
                                <ContentPresenter x:Name="ContentSite"
                                    VerticalAlignment="Center"
                                    HorizontalAlignment="Center"
                                    ContentSource="Header"
                                    Margin="12,2,12,2"
                                    RecognizesAccessKey="True"/>
                            </Border>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter Property="Panel.ZIndex" Value="100" />
                                <Setter TargetName="Border" Property="Background" Value="{DynamicResource GreenBrush}" />
                                <Setter TargetName="Border" Property="BorderThickness" Value="1,1,1,0" />
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="Border" Property="Background" Value="{DynamicResource DisabledBackgroundBrush}" />
                                <Setter TargetName="Border" Property="BorderBrush" Value="{DynamicResource DisabledBorderBrush}" />
                                <Setter Property="Foreground" Value="{DynamicResource DisabledForegroundBrush}" />
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>
    <Grid>
        <TabControl>
            <TabItem Header="MyTabItem" />
            <TabItem Header="MyTabItem"  />
        </TabControl>
    </Grid>
    </Window>

-->
<!--

    <Window x:Class="WpfTutorialSamples.Misc_controls.TabControlWithCustomHeadersSample" xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" Title="TabControlWithCustomHeadersSample" Height="200" Width="250">
    <Grid>
        <Grid>
            <TabControl>
                <TabItem>
                    <TabItem.Header>
                        <StackPanel Orientation="Horizontal">
                            <Image Source="/WpfTutorialSamples;component/Images/bullet_blue.png" />
                            <TextBlock Text="Blue" Foreground="Blue" />
                        </StackPanel>
                    </TabItem.Header>
                    <Label Content="Content goes here..." />
                </TabItem>
                <TabItem>
                    <TabItem.Header>
                        <StackPanel Orientation="Horizontal">
                            <Image Source="/WpfTutorialSamples;component/Images/bullet_red.png" />
                            <TextBlock Text="Red" Foreground="Red" />
                        </StackPanel>
                    </TabItem.Header>
                </TabItem>
                <TabItem>
                    <TabItem.Header>
                        <StackPanel Orientation="Horizontal">
                            <Image Source="/WpfTutorialSamples;component/Images/bullet_green.png" />
                            <TextBlock Text="Green" Foreground="Green" />
                        </StackPanel>
                    </TabItem.Header>
                </TabItem>
            </TabControl>
        </Grid>
    </Grid>
</Window>
    
-->    
    